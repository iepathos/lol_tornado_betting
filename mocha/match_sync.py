# -*- coding: utf-8 -*-
"""Match Sync contains functions that will run periodically in
the background to check on unfinished matches and update them
as they finish."""
from .lol import w
from .db import get_db_conn, get_db_conn_synchronous
from tornado.gen import coroutine
from riotwatcher.riotwatcher import LoLException
import rethinkdb as r
import threading
import logging
import time

log = logging.getLogger('mocha.match_sync')


def update_uncompleted_matches_synchronous():
    conn = get_db_conn_synchronous()
    uncompleted = r.table('matches').filter({'completed': False}).run(conn)
    for match in uncompleted:
        print('Checking match %s' % match['gameId'])
        try:
            m = w.get_match(int(match['id']))
            # check for a winner
            for team in m['teams']:
                if team['winner']:
                    m['completed'] = True
            update = r.table('matches').get(int(match['id'])).update(m).run(conn)
        except LoLException:
            # not found
            print('Match not found on Riot API')


def match_update():
    print("Updating uncomplete matches")
    update_uncompleted_matches_synchronous()

"""
{'matchId': 2129023114, 'matchMode': 'CLASSIC', 'matchDuration': 1951,
'teams': [{'firstRiftHerald': False, 'firstInhibitor': True, 'firstTower': False,
'vilemawKills': 0, 'firstBaron': False, 'firstBlood': False, 'riftHeraldKills': 0,
'winner': True, 'baronKills': 0, 'inhibitorKills': 2, 'firstDragon': True, 'teamId': 100,
'towerKills': 10, 'dominionVictoryScore': 0, 'dragonKills': 3}, {'firstRiftHerald': False,
'firstInhibitor': False, 'firstTower': True, 'vilemawKills': 0, 'firstBaron': True, 'firstBlood': True,
'riftHeraldKills': 0, 'winner': False, 'baronKills': 1, 'inhibitorKills': 0, 'firstDragon': False, 'teamId': 200,
'towerKills': 3, 'dominionVictoryScore': 0, 'dragonKills': 0}], 'matchVersion': '6.5.0.283',
'queueType': 'NORMAL_5x5_BLIND', 'region': 'NA', 'matchType': 'MATCHED_GAME', 'season': 'SEASON2016',
'matchCreation': 1458345247332, 'participantIdentities': [{'participantId': 1}, {'participantId': 2},
{'participantId': 3}, {'participantId': 4}, {'participantId': 5}, {'participantId': 6}, {'participantId': 7},
{'participantId': 8}, {'participantId': 9}, {'participantId': 10}], 'platformId': 'NA1',
'participants': {'spell2Id': 14, 'stats': {'magicDamageTaken': 7721, 'trueDamageTaken': 1090, 'killingSprees': 5,
'minionsKilled': 220, 'firstBloodKill': False, 'item1': 3147, 'unrealKills': 0, 'tripleKills': 0,
'physicalDamageTaken': 11421, 'totalUnitsHealed': 1, 'physicalDamageDealtToChampions': 32613, 'firstBloodAssist': False,
'trueDamageDealt': 2194, 'pentaKills': 0, 'deaths': 6, 'totalTimeCrowdControlDealt': 172, 'combatPlayerScore': 0,
'item0': 3142, 'magicDamageDealt': 3186, 'wardsPlaced': 14, 'item3': 3156, 'physicalDamageDealt': 176177,
'largestCriticalStrike': 0, 'champLevel': 18, 'totalHeal': 1801, 'item5': 1055, 'totalScoreRank': 0, 'firstTowerKill': False,
'goldSpent': 14925, 'kills': 15, 'trueDamageDealtToChampions': 1006, 'largestKillingSpree': 6, 'assists': 5, 'wardsKilled': 8,
'totalDamageTaken': 20233, 'quadraKills': 0, 'neutralMinionsKilledTeamJungle': 4, 'goldEarned': 16561, 'inhibitorKills': 0,
'objectivePlayerScore': 0, 'totalPlayerScore': 0, 'firstInhibitorKill': False, 'magicDamageDealtToChampions': 2012, 'towerKills': 1,
'totalDamageDealtToChampions': 35632, 'doubleKills': 2, 'largestMultiKill': 2, 'item2': 3139, 'item6': 3340, 'totalDamageDealt': 181558, 'winner': True, 'item4': 3009, 'firstTowerAssist': False, 'visionWardsBoughtInGame': 1, 'sightWardsBoughtInGame': 0, 'neutralMinionsKilledEnemyJungle': 15, 'neutralMinionsKilled': 19, 'firstInhibitorAssist': False}, 'timeline': {'xpDiffPerMinDeltas': {'tenToTwenty': 166.9, 'twentyToThirty': 195.3, 'zeroToTen': 60.79999999999998}, 'role': 'SOLO', 'xpPerMinDeltas': {'tenToTwenty': 543.6, 'twentyToThirty': 832.8, 'zeroToTen': 447.9}, 'csDiffPerMinDeltas': {'tenToTwenty': -0.8999999999999995, 'twentyToThirty': 2.1, 'zeroToTen': 2.0999999999999996}, 'goldPerMinDeltas': {'tenToTwenty': 513.9, 'twentyToThirty': 638.1, 'zeroToTen': 309.3}, 'creepsPerMinDeltas': {'tenToTwenty': 5.7, 'twentyToThirty': 8.5, 'zeroToTen': 7.699999999999999}, 'damageTakenDiffPerMinDeltas': {'tenToTwenty': -382.5, 'twentyToThirty': -123.39999999999998, 'zeroToTen': -77.30000000000001}, 'damageTakenPerMinDeltas': {'tenToTwenty': 536.4, 'twentyToThirty': 812.0, 'zeroToTen': 364.8}, 'lane': 'TOP'}, 'runes': [{'runeId': 5245, 'rank': 9}, {'runeId': 5289, 'rank': 9}, {'runeId': 5317, 'rank': 9}, {'runeId': 5337, 'rank': 3}], 'participantId': 1, 'highestAchievedSeasonTier': 'GOLD', 'masteries': [{'masteryId': 6111, 'rank': 5}, {'masteryId': 6121, 'rank': 1}, {'masteryId': 6134, 'rank': 5}, {'masteryId': 6142, 'rank': 1}, {'masteryId': 6312, 'rank': 5}, {'masteryId': 6323, 'rank': 1}, {'masteryId': 6331, 'rank': 5}, {'masteryId': 6343, 'rank': 1}, {'masteryId': 6351, 'rank': 5}, {'masteryId': 6362, 'rank': 1}], 'teamId': 100, 'spell1Id': 4, 'championId': 133}, {'spell2Id': 12, 'stats': {'magicDamageTaken': 7979, 'trueDamageTaken': 136, 'killingSprees': 0, 'minionsKilled': 212, 'firstBloodKill': False, 'item1': 1026, 'unrealKills': 0, 'tripleKills': 0, 'physicalDamageTaken': 12440, 'totalUnitsHealed': 1, 'physicalDamageDealtToChampions': 1477, 'firstBloodAssist': False, 'trueDamageDealt': 0, 'pentaKills': 0, 'deaths': 7, 'totalTimeCrowdControlDealt': 52, 'combatPlayerScore': 0, 'item0': 1058, 'magicDamageDealt': 176765, 'wardsPlaced': 14, 'item3': 3158, 'physicalDamageDealt': 28426, 'largestCriticalStrike': 0, 'champLevel': 18, 'totalHeal': 1124, 'item5': 3100, 'totalScoreRank': 0, 'firstTowerKill': False, 'goldSpent': 12800, 'kills': 3, 'trueDamageDealtToChampions': 0, 'largestKillingSpree': 0, 'assists': 7, 'wardsKilled': 4, 'totalDamageTaken': 20556, 'quadraKills': 0, 'neutralMinionsKilledTeamJungle': 13, 'goldEarned': 14363, 'inhibitorKills': 1, 'objectivePlayerScore': 0, 'totalPlayerScore': 0, 'firstInhibitorKill': True, 'magicDamageDealtToChampions': 14316, 'towerKills': 1, 'totalDamageDealtToChampions': 15794, 'doubleKills': 0, 'largestMultiKill': 1, 'item2': 3157, 'item6': 3340, 'totalDamageDealt': 205192, 'winner': True, 'item4': 3001, 'firstTowerAssist': False, 'visionWardsBoughtInGame': 2, 'sightWardsBoughtInGame': 0, 'neutralMinionsKilledEnemyJungle': 21, 'neutralMinionsKilled': 34, 'firstInhibitorAssist': False}, 'timeline': {'xpDiffPerMinDeltas': {'tenToTwenty': 209.69999999999996, 'twentyToThirty': 100.80000000000001, 'zeroToTen': -79.30000000000001}, 'role': 'SOLO', 'xpPerMinDeltas': {'tenToTwenty': 557.2, 'twentyToThirty': 774.5, 'zeroToTen': 352.1}, 'csDiffPerMinDeltas': {'tenToTwenty': 3.8000000000000003, 'twentyToThirty': 1.9, 'zeroToTen': -0.5}, 'goldPerMinDeltas': {'tenToTwenty': 454.20000000000005, 'twentyToThirty': 571.5, 'zeroToTen': 239.29999999999998}, 'creepsPerMinDeltas': {'tenToTwenty': 7.2, 'twentyToThirty': 7.3, 'zeroToTen': 5.5}, 'damageTakenDiffPerMinDeltas': {'tenToTwenty': -368.0, 'twentyToThirty': -162.29999999999995, 'zeroToTen': 57.49999999999997}, 'damageTakenPerMinDeltas': {'tenToTwenty': 491.8, 'twentyToThirty': 946.4000000000001, 'zeroToTen': 468.1}, 'lane': 'MIDDLE'}, 'runes': [{'runeId': 5273, 'rank': 9}, {'runeId': 5290, 'rank': 3}, {'runeId': 5296, 'rank': 6}, {'runeId': 5316, 'rank': 9}, {'runeId': 5357, 'rank': 3}], 'participantId': 2, 'highestAchievedSeasonTier': 'MASTER', 'masteries': [{'masteryId': 6114, 'rank': 5}, {'masteryId': 6121, 'rank': 1}, {'masteryId': 6131, 'rank': 5}, {'masteryId': 6142, 'rank': 1}, {'masteryId': 6312, 'rank': 5}, {'masteryId': 6323, 'rank': 1}, {'masteryId': 6331, 'rank': 5}, {'masteryId': 6343, 'rank': 1}, {'masteryId': 6351, 'rank': 5}, {'masteryId': 6362, 'rank': 1}], 'teamId': 100, 'spell1Id': 4, 'championId': 131}, {'spell2Id': 14, 'stats': {'magicDamageTaken': 18108, 'trueDamageTaken': 480, 'killingSprees': 0, 'minionsKilled': 31, 'firstBloodKill': False, 'item1': 3190, 'unrealKills': 0, 'tripleKills': 0, 'physicalDamageTaken': 25009, 'totalUnitsHealed': 3, 'physicalDamageDealtToChampions': 2437, 'firstBloodAssist': False, 'trueDamageDealt': 509, 'pentaKills': 0, 'deaths': 17, 'totalTimeCrowdControlDealt': 211, 'combatPlayerScore': 0, 'item0': 3401, 'magicDamageDealt': 13180, 'wardsPlaced': 11, 'item3': 3117, 'physicalDamageDealt': 8711, 'largestCriticalStrike': 0, 'champLevel': 15, 'totalHeal': 708, 'item5': 3801, 'totalScoreRank': 0, 'firstTowerKill': False, 'goldSpent': 10050, 'kills': 1, 'trueDamageDealtToChampions': 509, 'largestKillingSpree': 0, 'assists': 21, 'wardsKilled': 5, 'totalDamageTaken': 43598, 'quadraKills': 0, 'neutralMinionsKilledTeamJungle': 0, 'goldEarned': 11015, 'inhibitorKills': 0, 'objectivePlayerScore': 0, 'totalPlayerScore': 0, 'firstInhibitorKill': False, 'magicDamageDealtToChampions': 7848, 'towerKills': 0, 'totalDamageDealtToChampions': 10795, 'doubleKills': 0, 'largestMultiKill': 1, 'item2': 2049, 'item6': 3364, 'totalDamageDealt': 22400, 'winner': True, 'item4': 3110, 'firstTowerAssist': False, 'visionWardsBoughtInGame': 0, 'sightWardsBoughtInGame': 0, 'neutralMinionsKilledEnemyJungle': 0, 'neutralMinionsKilled': 0, 'firstInhibitorAssist': False}, 'timeline': {'xpDiffPerMinDeltas': {'tenToTwenty': 61.849999999999966, 'twentyToThirty': -223.0, 'zeroToTen': -91.25000000000003}, 'role': 'DUO_SUPPORT', 'xpPerMinDeltas': {'tenToTwenty': 370.9, 'twentyToThirty': 343.6, 'zeroToTen': 272.7}, 'csDiffPerMinDeltas': {'tenToTwenty': 0.75, 'twentyToThirty': -1.2, 'zeroToTen': -0.6000000000000001}, 'goldPerMinDeltas': {'tenToTwenty': 411.09999999999997, 'twentyToThirty': 305.1, 'zeroToTen': 182.8}, 'creepsPerMinDeltas': {'tenToTwenty': 0.8, 'twentyToThirty': 0.6000000000000001, 'zeroToTen': 1.7000000000000002}, 'damageTakenDiffPerMinDeltas': {'tenToTwenty': 278.2, 'twentyToThirty': 228.95000000000005, 'zeroToTen': 193.85000000000002}, 'damageTakenPerMinDeltas': {'tenToTwenty': 1474.1, 'twentyToThirty': 1936.6000000000001, 'zeroToTen': 557.3}, 'lane': 'BOTTOM'}, 'runes': [{'runeId': 5245, 'rank': 9}, {'runeId': 5289, 'rank': 9}, {'runeId': 5315, 'rank': 9}, {'runeId': 5347, 'rank': 3}], 'participantId': 3, 'highestAchievedSeasonTier': 'UNRANKED', 'masteries': [{'masteryId': 6212, 'rank': 5}, {'masteryId': 6223, 'rank': 1}, {'masteryId': 6232, 'rank': 5}, {'masteryId': 6242, 'rank': 1}, {'masteryId': 6311, 'rank': 5}, {'masteryId': 6322, 'rank': 1}, {'masteryId': 6332, 'rank': 5}, {'masteryId': 6342, 'rank': 1}, {'masteryId': 6352, 'rank': 5}, {'masteryId': 6362, 'rank': 1}], 'teamId': 100, 'spell1Id': 4, 'championId': 412}, {'spell2Id': 7, 'stats': {'magicDamageTaken': 9561, 'trueDamageTaken': 50, 'killingSprees': 2, 'minionsKilled': 193, 'firstBloodKill': False, 'item1': 1055, 'unrealKills': 0, 'tripleKills': 0, 'physicalDamageTaken': 15332, 'totalUnitsHealed': 3, 'physicalDamageDealtToChampions': 19518, 'firstBloodAssist': False, 'trueDamageDealt': 0, 'pentaKills': 0, 'deaths': 10, 'totalTimeCrowdControlDealt': 7, 'combatPlayerScore': 0, 'item0': 3139, 'magicDamageDealt': 16958, 'wardsPlaced': 16, 'item3': 3087, 'physicalDamageDealt': 130593, 'largestCriticalStrike': 629, 'champLevel': 15, 'totalHeal': 3354, 'item5': 1038, 'totalScoreRank': 0, 'firstTowerKill': False, 'goldSpent': 13200, 'kills': 7, 'trueDamageDealtToChampions': 0, 'largestKillingSpree': 2, 'assists': 6, 'wardsKilled': 7, 'totalDamageTaken': 24944, 'quadraKills': 0, 'neutralMinionsKilledTeamJungle': 16, 'goldEarned': 14389, 'inhibitorKills': 0, 'objectivePlayerScore': 0, 'totalPlayerScore': 0, 'firstInhibitorKill': False, 'magicDamageDealtToChampions': 1012, 'towerKills': 3, 'totalDamageDealtToChampions': 20531, 'doubleKills': 1, 'largestMultiKill': 2, 'item2': 3508, 'item6': 3363, 'totalDamageDealt': 147552, 'winner': True, 'item4': 3158, 'firstTowerAssist': False, 'visionWardsBoughtInGame': 0, 'sightWardsBoughtInGame': 0, 'neutralMinionsKilledEnemyJungle': 3, 'neutralMinionsKilled': 19, 'firstInhibitorAssist': True}, 'timeline': {'xpDiffPerMinDeltas': {'tenToTwenty': 61.849999999999966, 'twentyToThirty': -223.0, 'zeroToTen': -91.25000000000003}, 'role': 'DUO_CARRY', 'xpPerMinDeltas': {'tenToTwenty': 657.5, 'twentyToThirty': 408.9, 'zeroToTen': 273.79999999999995}, 'csDiffPerMinDeltas': {'tenToTwenty': 0.75, 'twentyToThirty': -1.2, 'zeroToTen': -0.6000000000000001}, 'goldPerMinDeltas': {'tenToTwenty': 619.9, 'twentyToThirty': 381.0, 'zeroToTen': 256.2}, 'creepsPerMinDeltas': {'tenToTwenty': 8.0, 'twentyToThirty': 4.7, 'zeroToTen': 6.1}, 'damageTakenDiffPerMinDeltas': {'tenToTwenty': 278.2, 'twentyToThirty': 228.95000000000005, 'zeroToTen': 193.85000000000002}, 'damageTakenPerMinDeltas': {'tenToTwenty': 657.3, 'twentyToThirty': 1238.8, 'zeroToTen': 404.4}, 'lane': 'BOTTOM'}, 'runes': [{'runeId': 5245, 'rank': 9}, {'runeId': 5289, 'rank': 9}, {'runeId': 5317, 'rank': 9}, {'runeId': 5337, 'rank': 3}], 'participantId': 4, 'highestAchievedSeasonTier': 'PLATINUM', 'masteries': [{'masteryId': 6111, 'rank': 5}, {'masteryId': 6122, 'rank': 1}, {'masteryId': 6131, 'rank': 5}, {'masteryId': 6141, 'rank': 1}, {'masteryId': 6151, 'rank': 5}, {'masteryId': 6162, 'rank': 1}, {'masteryId': 6312, 'rank': 5}, {'masteryId': 6322, 'rank': 1}, {'masteryId': 6331, 'rank': 5}, {'masteryId': 6343, 'rank': 1}], 'teamId': 100, 'spell1Id': 4, 'championId': 236}, {'spell2Id': 11, 'stats': {'magicDamageTaken': 5174, 'trueDamageTaken': 1744, 'killingSprees': 4, 'minionsKilled': 88, 'firstBloodKill': False, 'item1': 3142, 'unrealKills': 0, 'tripleKills': 2, 'physicalDamageTaken': 22616, 'totalUnitsHealed': 1, 'physicalDamageDealtToChampions': 24635, 'firstBloodAssist': False, 'trueDamageDealt': 36419, 'pentaKills': 0, 'deaths': 3, 'totalTimeCrowdControlDealt': 1292, 'combatPlayerScore': 0, 'item0': 3931, 'magicDamageDealt': 24876, 'wardsPlaced': 15, 'item3': 3022, 'physicalDamageDealt': 235707, 'largestCriticalStrike': 0, 'champLevel': 18, 'totalHeal': 8847, 'item5': 3143, 'totalScoreRank': 0, 'firstTowerKill': False, 'goldSpent': 18350, 'kills': 17, 'trueDamageDealtToChampions': 9139, 'largestKillingSpree': 6, 'assists': 7, 'wardsKilled': 5, 'totalDamageTaken': 29535, 'quadraKills': 2, 'neutralMinionsKilledTeamJungle': 119, 'goldEarned': 19699, 'inhibitorKills': 1, 'objectivePlayerScore': 0, 'totalPlayerScore': 0, 'firstInhibitorKill': False, 'magicDamageDealtToChampions': 3314, 'towerKills': 2, 'totalDamageDealtToChampions': 37089, 'doubleKills': 4, 'largestMultiKill': 4, 'item2': 3074, 'item6': 3363, 'totalDamageDealt': 297003, 'winner': True, 'item4': 3053, 'firstTowerAssist': False, 'visionWardsBoughtInGame': 0, 'sightWardsBoughtInGame': 0, 'neutralMinionsKilledEnemyJungle': 23, 'neutralMinionsKilled': 142, 'firstInhibitorAssist': True}, 'timeline': {'xpDiffPerMinDeltas': {'tenToTwenty': 277.1, 'twentyToThirty': 250.10000000000002, 'zeroToTen': 164.2}, 'role': 'NONE', 'xpPerMinDeltas': {'tenToTwenty': 757.0, 'twentyToThirty': 731.5, 'zeroToTen': 551.7}, 'csDiffPerMinDeltas': {'tenToTwenty': 1.9, 'twentyToThirty': 1.4000000000000001, 'zeroToTen': 0.8}, 'goldPerMinDeltas': {'tenToTwenty': 662.6, 'twentyToThirty': 625.3, 'zeroToTen': 327.6}, 'creepsPerMinDeltas': {'tenToTwenty': 3.6, 'twentyToThirty': 3.6, 'zeroToTen': 1.1}, 'damageTakenDiffPerMinDeltas': {'tenToTwenty': -233.49999999999991, 'twentyToThirty': -273.70000000000005, 'zeroToTen': -437.6}, 'damageTakenPerMinDeltas': {'tenToTwenty': 742.6, 'twentyToThirty': 1067.1, 'zeroToTen': 505.0}, 'lane': 'JUNGLE'}, 'runes': [{'runeId': 5247, 'rank': 9}, {'runeId': 5290, 'rank': 9}, {'runeId': 5318, 'rank': 9}, {'runeId': 5337, 'rank': 3}], 'participantId': 5, 'highestAchievedSeasonTier': 'DIAMOND', 'masteries': [{'masteryId': 6111, 'rank': 5}, {'masteryId': 6121, 'rank': 1}, {'masteryId': 6134, 'rank': 5}, {'masteryId': 6141, 'rank': 1}, {'masteryId': 6151, 'rank': 5}, {'masteryId': 6162, 'rank': 1}, {'masteryId': 6212, 'rank': 5}, {'masteryId': 6223, 'rank': 1}, {'masteryId': 6232, 'rank': 5}, {'masteryId': 6241, 'rank': 1}], 'teamId': 100, 'spell1Id': 12, 'championId': 11}, {'spell2Id': 4, 'stats': {'magicDamageTaken': 9236, 'trueDamageTaken': 1980, 'killingSprees': 4, 'minionsKilled': 173, 'firstBloodKill': True, 'item1': 3031, 'unrealKills': 0, 'tripleKills': 0, 'physicalDamageTaken': 16458, 'totalUnitsHealed': 4, 'physicalDamageDealtToChampions': 34209, 'firstBloodAssist': False, 'trueDamageDealt': 0, 'pentaKills': 0, 'deaths': 7, 'totalTimeCrowdControlDealt': 165, 'combatPlayerScore': 0, 'item0': 3072, 'magicDamageDealt': 8482, 'wardsPlaced': 14, 'item3': 3009, 'physicalDamageDealt': 136067, 'largestCriticalStrike': 976, 'champLevel': 16, 'totalHeal': 4186, 'item5': 0, 'totalScoreRank': 0, 'firstTowerKill': False, 'goldSpent': 14125, 'kills': 15, 'trueDamageDealtToChampions': 0, 'largestKillingSpree': 4, 'assists': 15, 'wardsKilled': 2, 'totalDamageTaken': 27675, 'quadraKills': 0, 'neutralMinionsKilledTeamJungle': 7, 'goldEarned': 14645, 'inhibitorKills': 0, 'objectivePlayerScore': 0, 'totalPlayerScore': 0, 'firstInhibitorKill': False, 'magicDamageDealtToChampions': 2050, 'towerKills': 0, 'totalDamageDealtToChampions': 36259, 'doubleKills': 1, 'largestMultiKill': 2, 'item2': 3053, 'item6': 3363, 'totalDamageDealt': 144550, 'winner': False, 'item4': 3094, 'firstTowerAssist': False, 'visionWardsBoughtInGame': 1, 'sightWardsBoughtInGame': 0, 'neutralMinionsKilledEnemyJungle': 0, 'neutralMinionsKilled': 7, 'firstInhibitorAssist': False}, 'timeline': {'xpDiffPerMinDeltas': {'tenToTwenty': -61.849999999999966, 'twentyToThirty': 223.0, 'zeroToTen': 91.25000000000003}, 'role': 'DUO_CARRY', 'xpPerMinDeltas': {'tenToTwenty': 430.5, 'twentyToThirty': 656.2, 'zeroToTen': 412.8}, 'csDiffPerMinDeltas': {'tenToTwenty': -0.75, 'twentyToThirty': 1.2, 'zeroToTen': 0.6000000000000001}, 'goldPerMinDeltas': {'tenToTwenty': 418.8, 'twentyToThirty': 516.4000000000001, 'zeroToTen': 431.6}, 'creepsPerMinDeltas': {'tenToTwenty': 5.6, 'twentyToThirty': 3.8000000000000003, 'zeroToTen': 7.699999999999999}, 'damageTakenDiffPerMinDeltas': {'tenToTwenty': -278.2, 'twentyToThirty': -228.95000000000005, 'zeroToTen': -193.85000000000002}, 'damageTakenPerMinDeltas': {'tenToTwenty': 733.8, 'twentyToThirty': 1368.7, 'zeroToTen': 235.3}, 'lane': 'BOTTOM'}, 'runes': [{'runeId': 5245, 'rank': 8}, {'runeId': 5251, 'rank': 1}, {'runeId': 5289, 'rank': 8}, {'runeId': 5290, 'rank': 1}, {'runeId': 5317, 'rank': 9}, {'runeId': 5337, 'rank': 3}], 'participantId': 6, 'highestAchievedSeasonTier': 'UNRANKED', 'masteries': [{'masteryId': 6111, 'rank': 5}, {'masteryId': 6122, 'rank': 1}, {'masteryId': 6131, 'rank': 5}, {'masteryId': 6142, 'rank': 1}, {'masteryId': 6151, 'rank': 5}, {'masteryId': 6162, 'rank': 1}, {'masteryId': 6312, 'rank': 5}, {'masteryId': 6322, 'rank': 1}, {'masteryId': 6331, 'rank': 5}, {'masteryId': 6343, 'rank': 1}], 'teamId': 200, 'spell1Id': 7, 'championId': 202}, {'spell2Id': 14, 'stats': {'magicDamageTaken': 5913, 'trueDamageTaken': 1614, 'killingSprees': 3, 'minionsKilled': 154, 'firstBloodKill': False, 'item1': 3157, 'unrealKills': 0, 'tripleKills': 0, 'physicalDamageTaken': 21227, 'totalUnitsHealed': 1, 'physicalDamageDealtToChampions': 2872, 'firstBloodAssist': False, 'trueDamageDealt': 1788, 'pentaKills': 0, 'deaths': 10, 'totalTimeCrowdControlDealt': 78, 'combatPlayerScore': 0, 'item0': 3089, 'magicDamageDealt': 87499, 'wardsPlaced': 11, 'item3': 1056, 'physicalDamageDealt': 15462, 'largestCriticalStrike': 0, 'champLevel': 16, 'totalHeal': 3656, 'item5': 3158, 'totalScoreRank': 0, 'firstTowerKill': False, 'goldSpent': 12435, 'kills': 10, 'trueDamageDealtToChampions': 1788, 'largestKillingSpree': 4, 'assists': 9, 'wardsKilled': 1, 'totalDamageTaken': 28755, 'quadraKills': 0, 'neutralMinionsKilledTeamJungle': 0, 'goldEarned': 12236, 'inhibitorKills': 0, 'objectivePlayerScore': 0, 'totalPlayerScore': 0, 'firstInhibitorKill': False, 'magicDamageDealtToChampions': 24197, 'towerKills': 0, 'totalDamageDealtToChampions': 28858, 'doubleKills': 0, 'largestMultiKill': 1, 'item2': 0, 'item6': 3363, 'totalDamageDealt': 104749, 'winner': False, 'item4': 3001, 'firstTowerAssist': False, 'visionWardsBoughtInGame': 3, 'sightWardsBoughtInGame': 0, 'neutralMinionsKilledEnemyJungle': 0, 'neutralMinionsKilled': 0, 'firstInhibitorAssist': False}, 'timeline': {'xpDiffPerMinDeltas': {'tenToTwenty': -209.69999999999996, 'twentyToThirty': -100.80000000000001, 'zeroToTen': 79.30000000000001}, 'role': 'SOLO', 'xpPerMinDeltas': {'tenToTwenty': 347.5, 'twentyToThirty': 673.7, 'zeroToTen': 431.4}, 'csDiffPerMinDeltas': {'tenToTwenty': -3.8000000000000003, 'twentyToThirty': -1.9, 'zeroToTen': 0.5}, 'goldPerMinDeltas': {'tenToTwenty': 323.5, 'twentyToThirty': 470.9, 'zeroToTen': 305.3}, 'creepsPerMinDeltas': {'tenToTwenty': 3.4, 'twentyToThirty': 5.4, 'zeroToTen': 6.0}, 'damageTakenDiffPerMinDeltas': {'tenToTwenty': 368.0, 'twentyToThirty': 162.29999999999995, 'zeroToTen': -57.49999999999997}, 'damageTakenPerMinDeltas': {'tenToTwenty': 859.8, 'twentyToThirty': 1108.7, 'zeroToTen': 410.6}, 'lane': 'MIDDLE'}, 'runes': [{'runeId': 5273, 'rank': 9}, {'runeId': 5295, 'rank': 9}, {'runeId': 5316, 'rank': 9}, {'runeId': 5357, 'rank': 2}, {'runeId': 8017, 'rank': 1}], 'participantId': 7, 'highestAchievedSeasonTier': 'DIAMOND', 'masteries': [{'masteryId': 6114, 'rank': 5}, {'masteryId': 6122, 'rank': 1}, {'masteryId': 6134, 'rank': 5}, {'masteryId': 6142, 'rank': 1}, {'masteryId': 6312, 'rank': 5}, {'masteryId': 6322, 'rank': 1}, {'masteryId': 6331, 'rank': 5}, {'masteryId': 6343, 'rank': 1}, {'masteryId': 6351, 'rank': 5}, {'masteryId': 6362, 'rank': 1}], 'teamId': 200, 'spell1Id': 4, 'championId': 7}, {'spell2Id': 3, 'stats': {'magicDamageTaken': 7229, 'trueDamageTaken': 2588, 'killingSprees': 3, 'minionsKilled': 75, 'firstBloodKill': False, 'item1': 3060, 'unrealKills': 0, 'tripleKills': 0, 'physicalDamageTaken': 22454, 'totalUnitsHealed': 4, 'physicalDamageDealtToChampions': 6017, 'firstBloodAssist': False, 'trueDamageDealt': 4787, 'pentaKills': 0, 'deaths': 8, 'totalTimeCrowdControlDealt': 387, 'combatPlayerScore': 0, 'item0': 2303, 'magicDamageDealt': 37803, 'wardsPlaced': 24, 'item3': 3068, 'physicalDamageDealt': 15836, 'largestCriticalStrike': 0, 'champLevel': 15, 'totalHeal': 6472, 'item5': 0, 'totalScoreRank': 0, 'firstTowerKill': False, 'goldSpent': 12000, 'kills': 8, 'trueDamageDealtToChampions': 0, 'largestKillingSpree': 3, 'assists': 16, 'wardsKilled': 5, 'totalDamageTaken': 32271, 'quadraKills': 0, 'neutralMinionsKilledTeamJungle': 1, 'goldEarned': 12172, 'inhibitorKills': 0, 'objectivePlayerScore': 0, 'totalPlayerScore': 0, 'firstInhibitorKill': False, 'magicDamageDealtToChampions': 11766, 'towerKills': 0, 'totalDamageDealtToChampions': 17783, 'doubleKills': 0, 'largestMultiKill': 1, 'item2': 1306, 'item6': 3341, 'totalDamageDealt': 58428, 'winner': False, 'item4': 3512, 'firstTowerAssist': False, 'visionWardsBoughtInGame': 0, 'sightWardsBoughtInGame': 0, 'neutralMinionsKilledEnemyJungle': 0, 'neutralMinionsKilled': 1, 'firstInhibitorAssist': False}, 'timeline': {'xpDiffPerMinDeltas': {'tenToTwenty': -61.849999999999966, 'twentyToThirty': 223.0, 'zeroToTen': 91.25000000000003}, 'role': 'DUO_SUPPORT', 'xpPerMinDeltas': {'tenToTwenty': 474.2, 'twentyToThirty': 542.3, 'zeroToTen': 316.2}, 'csDiffPerMinDeltas': {'tenToTwenty': -0.75, 'twentyToThirty': 1.2, 'zeroToTen': 0.6000000000000001}, 'goldPerMinDeltas': {'tenToTwenty': 433.3, 'twentyToThirty': 438.20000000000005, 'zeroToTen': 223.2}, 'creepsPerMinDeltas': {'tenToTwenty': 1.7000000000000002, 'twentyToThirty': 3.9000000000000004, 'zeroToTen': 1.3}, 'damageTakenDiffPerMinDeltas': {'tenToTwenty': -278.2, 'twentyToThirty': -228.95000000000005, 'zeroToTen': -193.85000000000002}, 'damageTakenPerMinDeltas': {'tenToTwenty': 841.2, 'twentyToThirty': 1348.8, 'zeroToTen': 338.7}, 'lane': 'BOTTOM'}, 'runes': [{'runeId': 5245, 'rank': 9}, {'runeId': 5295, 'rank': 6}, {'runeId': 5296, 'rank': 3}, {'runeId': 5317, 'rank': 9}, {'runeId': 5335, 'rank': 2}, {'runeId': 5337, 'rank': 1}], 'participantId': 8, 'highestAchievedSeasonTier': 'PLATINUM', 'masteries': [{'masteryId': 6211, 'rank': 5}, {'masteryId': 6223, 'rank': 1}, {'masteryId': 6231, 'rank': 5}, {'masteryId': 6241, 'rank': 1}, {'masteryId': 6251, 'rank': 5}, {'masteryId': 6261, 'rank': 1}, {'masteryId': 6311, 'rank': 5}, {'masteryId': 6322, 'rank': 1}, {'masteryId': 6332, 'rank': 5}, {'masteryId': 6342, 'rank': 1}], 'teamId': 200, 'spell1Id': 4, 'championId': 111}, {'spell2Id': 11, 'stats': {'magicDamageTaken': 3698, 'trueDamageTaken': 1391, 'killingSprees': 2, 'minionsKilled': 58, 'firstBloodKill': False, 'item1': 1058, 'unrealKills': 0, 'tripleKills': 0, 'physicalDamageTaken': 29811, 'totalUnitsHealed': 1, 'physicalDamageDealtToChampions': 686, 'firstBloodAssist': False, 'trueDamageDealt': 9214, 'pentaKills': 0, 'deaths': 7, 'totalTimeCrowdControlDealt': 465, 'combatPlayerScore': 0, 'item0': 3136, 'magicDamageDealt': 95326, 'wardsPlaced': 19, 'item3': 3020, 'physicalDamageDealt': 14137, 'largestCriticalStrike': 0, 'champLevel': 16, 'totalHeal': 16268, 'item5': 1402, 'totalScoreRank': 0, 'firstTowerKill': False, 'goldSpent': 10875, 'kills': 7, 'trueDamageDealtToChampions': 632, 'largestKillingSpree': 3, 'assists': 8, 'wardsKilled': 5, 'totalDamageTaken': 34900, 'quadraKills': 0, 'neutralMinionsKilledTeamJungle': 62, 'goldEarned': 11936, 'inhibitorKills': 0, 'objectivePlayerScore': 0, 'totalPlayerScore': 0, 'firstInhibitorKill': False, 'magicDamageDealtToChampions': 9506, 'towerKills': 0, 'totalDamageDealtToChampions': 10825, 'doubleKills': 1, 'largestMultiKill': 2, 'item2': 3191, 'item6': 3363, 'totalDamageDealt': 118678, 'winner': False, 'item4': 3001, 'firstTowerAssist': False, 'visionWardsBoughtInGame': 6, 'sightWardsBoughtInGame': 0, 'neutralMinionsKilledEnemyJungle': 4, 'neutralMinionsKilled': 66, 'firstInhibitorAssist': False}, 'timeline': {'xpDiffPerMinDeltas': {'tenToTwenty': -277.1, 'twentyToThirty': -250.10000000000002, 'zeroToTen': -164.2}, 'role': 'NONE', 'xpPerMinDeltas': {'tenToTwenty': 479.9, 'twentyToThirty': 481.4, 'zeroToTen': 387.5}, 'csDiffPerMinDeltas': {'tenToTwenty': -1.9, 'twentyToThirty': -1.4000000000000001, 'zeroToTen': -0.8}, 'goldPerMinDeltas': {'tenToTwenty': 369.3, 'twentyToThirty': 387.20000000000005, 'zeroToTen': 308.6}, 'creepsPerMinDeltas': {'tenToTwenty': 1.7000000000000002, 'twentyToThirty': 2.2, 'zeroToTen': 0.3}, 'damageTakenDiffPerMinDeltas': {'tenToTwenty': 233.49999999999991, 'twentyToThirty': 273.70000000000005, 'zeroToTen': 437.6}, 'damageTakenPerMinDeltas': {'tenToTwenty': 976.0999999999999, 'twentyToThirty': 1340.8000000000002, 'zeroToTen': 942.6}, 'lane': 'JUNGLE'}, 'runes': [{'runeId': 5273, 'rank': 9}, {'runeId': 5289, 'rank': 9}, {'runeId': 5316, 'rank': 9}, {'runeId': 5357, 'rank': 3}], 'participantId': 9, 'highestAchievedSeasonTier': 'MASTER', 'masteries': [{'masteryId': 6114, 'rank': 5}, {'masteryId': 6122, 'rank': 1}, {'masteryId': 6131, 'rank': 5}, {'masteryId': 6142, 'rank': 1}, {'masteryId': 6312, 'rank': 5}, {'masteryId': 6322, 'rank': 1}, {'masteryId': 6331, 'rank': 5}, {'masteryId': 6343, 'rank': 1}, {'masteryId': 6351, 'rank': 5}, {'masteryId': 6362, 'rank': 1}], 'teamId': 200, 'spell1Id': 4, 'championId': 9}, {'spell2Id': 4, 'stats': {'magicDamageTaken': 3856, 'trueDamageTaken': 3087, 'killingSprees': 1, 'minionsKilled': 199, 'firstBloodKill': False, 'item1': 3142, 'unrealKills': 0, 'tripleKills': 0, 'physicalDamageTaken': 21993, 'totalUnitsHealed': 1, 'physicalDamageDealtToChampions': 15163, 'firstBloodAssist': False, 'trueDamageDealt': 1440, 'pentaKills': 0, 'deaths': 11, 'totalTimeCrowdControlDealt': 169, 'combatPlayerScore': 0, 'item0': 1055, 'magicDamageDealt': 1140, 'wardsPlaced': 8, 'item3': 1083, 'physicalDamageDealt': 118632, 'largestCriticalStrike': 0, 'champLevel': 16, 'totalHeal': 2465, 'item5': 3812, 'totalScoreRank': 0, 'firstTowerKill': False, 'goldSpent': 12175, 'kills': 3, 'trueDamageDealtToChampions': 1080, 'largestKillingSpree': 3, 'assists': 9, 'wardsKilled': 3, 'totalDamageTaken': 28938, 'quadraKills': 0, 'neutralMinionsKilledTeamJungle': 5, 'goldEarned': 12489, 'inhibitorKills': 0, 'objectivePlayerScore': 0, 'totalPlayerScore': 0, 'firstInhibitorKill': False, 'magicDamageDealtToChampions': 526, 'towerKills': 1, 'totalDamageDealtToChampions': 16770, 'doubleKills': 0, 'largestMultiKill': 1, 'item2': 3053, 'item6': 3363, 'totalDamageDealt': 121213, 'winner': False, 'item4': 3009, 'firstTowerAssist': False, 'visionWardsBoughtInGame': 1, 'sightWardsBoughtInGame': 0, 'neutralMinionsKilledEnemyJungle': 0, 'neutralMinionsKilled': 5, 'firstInhibitorAssist': False}, 'timeline': {'xpDiffPerMinDeltas': {'tenToTwenty': -166.9, 'twentyToThirty': -195.3, 'zeroToTen': -60.79999999999998}, 'role': 'SOLO', 'xpPerMinDeltas': {'tenToTwenty': 376.70000000000005, 'twentyToThirty': 637.5, 'zeroToTen': 387.1}, 'csDiffPerMinDeltas': {'tenToTwenty': 0.8999999999999995, 'twentyToThirty': -2.1, 'zeroToTen': -2.0999999999999996}, 'goldPerMinDeltas': {'tenToTwenty': 334.0, 'twentyToThirty': 494.20000000000005, 'zeroToTen': 242.89999999999998}, 'creepsPerMinDeltas': {'tenToTwenty': 6.6, 'twentyToThirty': 6.4, 'zeroToTen': 5.6}, 'damageTakenDiffPerMinDeltas': {'tenToTwenty': 382.5, 'twentyToThirty': 123.39999999999998, 'zeroToTen': 77.30000000000001}, 'damageTakenPerMinDeltas': {'tenToTwenty': 918.9, 'twentyToThirty': 935.4, 'zeroToTen': 442.1}, 'lane': 'TOP'}, 'runes': [{'runeId': 5245, 'rank': 9}, {'runeId': 5277, 'rank': 4}, {'runeId': 5289, 'rank': 5}, {'runeId': 5317, 'rank': 9}, {'runeId': 5337, 'rank': 3}], 'participantId': 10, 'highestAchievedSeasonTier': 'MASTER', 'masteries': [{'masteryId': 6211, 'rank': 5}, {'masteryId': 6221, 'rank': 1}, {'masteryId': 6232, 'rank': 5}, {'masteryId': 6241, 'rank': 1}, {'masteryId': 6251, 'rank': 5}, {'masteryId': 6262, 'rank': 1}, {'masteryId': 6311, 'rank': 5}, {'masteryId': 6321, 'rank': 1}, {'masteryId': 6331, 'rank': 5}, {'masteryId': 6343, 'rank': 1}], 'teamId': 200, 'spell1Id': 12, 'championId': 104}], 'mapId': 11}

"""
